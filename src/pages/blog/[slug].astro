---
// This is the template file for every individual blog post.
// Astro uses this file to generate a unique page for each of your articles.
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

// This function tells Astro to create a page for every blog post
export async function getStaticPaths() {
  const posts = await getCollection('blog');
  return posts.map(post => ({
    params: { slug: post.slug },
    props: post,
  }));
}

const post = Astro.props;
const { Content } = await post.render();
---

<Layout 
    title={post.data.title}
    description={post.data.description}
>
    <article class="prose prose-invert prose-lg max-w-3xl mx-auto py-12">
        <!-- Post Header -->
        <div class="text-center mb-12">
            <p class="text-gray-400">
                Published on {new Date(post.data.pubDate).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
            </p>
            <h1 class="text-4xl md:text-5xl font-bold mt-2 font-poppins text-white">{post.data.title}</h1>
        </div>
        
        <!-- Hero Image (Optional) -->
        {post.data.heroImage && (
            <img src={post.data.heroImage} alt="" class="w-full h-auto object-cover rounded-lg shadow-lg mb-12" />
        )}
        
        <!-- Main Article Content -->
        <div class="text-gray-300">
            <Content />
        </div>
    </article>
</Layout>

<style is:global>
    /* These are some professional styles to make your article content look great. */
    .prose {
        font-family: 'Inter', sans-serif;
    }
    .prose h3 {
        font-family: 'Poppins', sans-serif;
        @apply text-2xl font-bold mb-4 mt-8 text-white;
    }
    .prose p {
        @apply text-gray-300 leading-relaxed mb-4;
    }
    .prose a {
        @apply text-teal-400 hover:underline;
    }
    .prose code {
        @apply bg-gray-800 text-teal-300 font-mono text-sm rounded-md px-1.5 py-0.5;
    }
    .prose pre {
        @apply bg-gray-800/50 p-4 rounded-lg ring-1 ring-white/10;
    }
     .prose ul {
        @apply list-disc list-inside text-gray-300 space-y-2;
    }
    .prose strong {
        @apply text-white;
    }
</style>

